%\usepackage{luatexja}
%\usepackage[ipa]{luatexja-preset}
\usepackage{listings}
\usepackage{amsmath}
\usepackage{unicode-math}
\usepackage{minted}
\usepackage{catchfile, fvextra, xstring, environ, xcolor}
\usepackage{accsupp}
\usepackage[most, theorems, listings, minted, breakable]{tcolorbox}
\usemintedstyle{monokai}

\definecolor{bg}{HTML}{333333}
\definecolor{line}{HTML}{000000}
\definecolor{bill}{RGB}{229,225,225}

\usepackage{caption}
\newenvironment{longlisting}{\captionsetup{type=listing}}{}
\newcounter{listings}

\setminted{
    linenos=true,
    autogobble,
}

\newtcblisting{myminted}[3][]{%
    theorem={Listing}{listings}{#3},
     fonttitle=\scriptsize\bfseries,
     listing engine=minted,
     minted language=#2,
     colback=bg,
     minted options={%
         linenos,
         breaklines, 
         breakbefore=.,
         autogobble,
         fontsize=\small,
         numbersep=3mm,
         xleftmargin=2mm,
         baselinestretch=1},
     overlay={%
       \begin{tcbclipinterior}
           \fill[gray!25] (frame.south west) rectangle ([xshift=5mm]frame.north west);
       \end{tcbclipinterior}},
     breakable, enhanced, listing only, #1,
}

%\definecolor{background}{RGB}{39, 40, 34}
%\definecolor{string}{RGB}{230, 219, 116}
%\definecolor{comment}{RGB}{117, 113, 94}
%\definecolor{normal}{RGB}{248, 248, 242}
%\definecolor{identifier}{RGB}{166, 226, 46}
%
%\lstset{
%  numbers=left,                   		% where to put the line-numbers
%  stepnumber=1,                   		% the step between two line-numbers.
%  numbersep=5pt,                  		% how far the line-numbers are from the code
%  numberstyle=\tiny\color{black}\ttfamily,
%  backgroundcolor=\color{background},  		% choose the background color. You must add \usepackage{color}
%  showspaces=false,               		% show spaces adding particular underscores
%  showstringspaces=false,         		% underline spaces within strings
%  showtabs=false,                 		% show tabs within strings adding particular underscores
%  tabsize=4,                      		% sets default tabsize to 2 spaces
%  captionpos=b,                   		% sets the caption-position to bottom
%  breaklines=true,                		% sets automatic line breaking
%  breakatwhitespace=true,         		% sets if automatic breaks should only happen at whitespace
%  title=\lstname,                 		% show the filename of files included with \lstinputlisting;
%  basicstyle=\color{normal}\ttfamily,		% sets font style for the code
%  keywordstyle=\color{magenta}\ttfamily,	% sets color for keywords
%  stringstyle=\color{string}\ttfamily,		% sets color for strings
%  commentstyle=\color{comment}\ttfamily,	% sets color for comments
%  emphstyle=\color{identifier}\ttfamily
%}

